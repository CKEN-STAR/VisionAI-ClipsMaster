{
  "test_summary": {
    "total_tests": 11,
    "passed_tests": 7,
    "failed_tests": 4,
    "success_rate": 63.63636363636363,
    "narrative_tests": {
      "passed": 0,
      "total": 4
    },
    "system_tests": {
      "passed": 7,
      "total": 7
    },
    "test_duration": 7.729965
  },
  "core_constraints": {
    "narrative_coherence": {
      "scores": [],
      "average": 0,
      "requirement": "≥80%",
      "passed": false
    },
    "duration_control": {
      "scores": [],
      "average": 0,
      "requirement": "≥80%",
      "passed": false
    }
  },
  "performance_metrics": {
    "baseline_memory": {
      "rss": 21.20703125,
      "vms": 12.8984375,
      "percent": 0.13163388468105514
    },
    "current_memory": {
      "rss": 367.63671875,
      "vms": 794.40625,
      "percent": 2.28195304047845
    },
    "memory_increase": 346.4296875,
    "memory_within_limit": true,
    "memory_leak_acceptable": false
  },
  "detailed_results": {
    "剧情连贯性-完整爱情剧": {
      "success": false,
      "details": "连贯性: 47.3%, 时长控制: 100.0%",
      "duration": 0.1637406349182129,
      "timestamp": "2025-07-30T07:15:01.235203",
      "memory_usage": {
        "rss": 31.3203125,
        "vms": 21.3671875,
        "percent": 0.1944078996818383
      },
      "metrics": {
        "连贯性评分": "47.3%",
        "时长控制评分": "100.0%",
        "原始时长": "75.0s",
        "重构时长": "22.5s",
        "压缩比例": "30.0%"
      }
    },
    "剧情连贯性-复杂悬疑剧": {
      "success": false,
      "details": "连贯性: 50.0%, 时长控制: 100.0%",
      "duration": 0.0,
      "timestamp": "2025-07-30T07:15:01.236158",
      "memory_usage": {
        "rss": 31.32421875,
        "vms": 21.3671875,
        "percent": 0.19443214611482432
      },
      "metrics": {
        "连贯性评分": "50.0%",
        "时长控制评分": "100.0%",
        "原始时长": "40.0s",
        "重构时长": "18.0s",
        "压缩比例": "45.0%"
      }
    },
    "剧情连贯性-短剧情": {
      "success": false,
      "details": "连贯性: 60.0%, 时长控制: 0.0%",
      "duration": 0.00440526008605957,
      "timestamp": "2025-07-30T07:15:01.240564",
      "memory_usage": {
        "rss": 31.32421875,
        "vms": 21.3671875,
        "percent": 0.19443214611482432
      },
      "metrics": {
        "连贯性评分": "60.0%",
        "时长控制评分": "0.0%",
        "原始时长": "8.0s",
        "重构时长": "8.0s",
        "压缩比例": "100.0%"
      }
    },
    "时长控制精度": {
      "success": false,
      "details": "目标范围: True, 连贯性: False, 一致性: True",
      "duration": 0.005006313323974609,
      "timestamp": "2025-07-30T07:15:01.246431",
      "memory_usage": {
        "rss": 31.4453125,
        "vms": 21.3671875,
        "percent": 0.19518378553739066
      },
      "metrics": {
        "平均压缩比": "30.0%",
        "压缩比范围": "30.0%-30.0%",
        "压缩比标准差": "0.0%",
        "平均连贯性": "47.3%",
        "连贯性范围": "47.3%-47.3%",
        "连贯性标准差": "0.0%"
      }
    },
    "边缘情况-极短视频": {
      "success": true,
      "details": "结果类型: <class 'list'>, 长度: 4",
      "duration": 0.002687692642211914,
      "timestamp": "2025-07-30T07:15:01.249119",
      "memory_usage": {
        "rss": 31.4453125,
        "vms": 21.3671875,
        "percent": 0.19518378553739066
      },
      "metrics": {
        "输入片段数": 4,
        "输出片段数": 4,
        "原始时长": "8.0s",
        "重构时长": "8.0s"
      }
    },
    "边缘情况-单句字幕": {
      "success": true,
      "details": "结果类型: <class 'list'>, 长度: 1",
      "duration": 0.0,
      "timestamp": "2025-07-30T07:15:01.250126",
      "memory_usage": {
        "rss": 31.4453125,
        "vms": 21.3671875,
        "percent": 0.19518378553739066
      },
      "metrics": {
        "输入片段数": 1,
        "输出片段数": 1,
        "原始时长": "2.0s",
        "重构时长": "2.0s"
      }
    },
    "边缘情况-空字幕": {
      "success": true,
      "details": "结果类型: <class 'list'>, 长度: 0",
      "duration": 0.0,
      "timestamp": "2025-07-30T07:15:01.251125",
      "memory_usage": {
        "rss": 31.4453125,
        "vms": 21.3671875,
        "percent": 0.19518378553739066
      },
      "metrics": {
        "输入片段数": 0,
        "输出片段数": 0
      }
    },
    "UI界面功能": {
      "success": true,
      "details": "语法: True, 导入: True",
      "duration": 4.659436941146851,
      "timestamp": "2025-07-30T07:15:05.911563",
      "memory_usage": {
        "rss": 337.109375,
        "vms": 771.671875,
        "percent": 2.092467166692772
      },
      "metrics": {
        "UI文件语法": "✓",
        "UI类导入": "✓",
        "PyQt6框架": "✓"
      }
    },
    "核心功能模块": {
      "success": true,
      "details": "通过: 7/7",
      "duration": 1.8655214309692383,
      "timestamp": "2025-07-30T07:15:07.777084",
      "memory_usage": {
        "rss": 367.40625,
        "vms": 794.2109375,
        "percent": 2.280522500932275
      },
      "metrics": {
        "模块-语言检测器": "✓",
        "模块-字幕解析器": "✓",
        "模块-剧本工程师": "✓",
        "模块-视频处理器": "✓",
        "模块-剪映导出器": "✓",
        "模块-模型切换器": "✓",
        "模块-叙事分析器": "✓",
        "通过率": "7/7 (100.0%)"
      }
    },
    "端到端工作流程": {
      "success": true,
      "details": "步骤通过: 5/5",
      "duration": 0.015434503555297852,
      "timestamp": "2025-07-30T07:15:07.792518",
      "memory_usage": {
        "rss": 367.6171875,
        "vms": 794.40625,
        "percent": 2.28183180831352
      },
      "metrics": {
        "步骤-文件解析": "✓",
        "步骤-语言检测": "✓",
        "步骤-剧本重构": "✓",
        "步骤-视频处理器": "✓",
        "步骤-剪映导出器": "✓",
        "工作流程完整性": "5/5"
      }
    },
    "性能监控": {
      "success": true,
      "details": "内存: 367.6MB, CPU: 17.4%",
      "duration": 1.0079379081726074,
      "timestamp": "2025-07-30T07:15:08.801427",
      "memory_usage": {
        "rss": 367.6328125,
        "vms": 794.40625,
        "percent": 2.281928794045464
      },
      "metrics": {
        "初始内存": "367.6MB",
        "最终内存": "367.6MB",
        "内存增长": "0.0MB",
        "CPU使用率": "17.4%",
        "内存限制检查": "✓",
        "内存泄漏检查": "✓"
      }
    }
  },
  "system_info": {
    "platform": "Windows",
    "python_version": "3.11.11 | packaged by Anaconda, Inc. | (main, Dec 11 2024, 16:34:19) [MSC v.1929 64 bit (AMD64)]",
    "cpu_count": 16,
    "total_memory": 15.733024597167969
  }
}