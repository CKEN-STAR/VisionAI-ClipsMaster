
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisionAI-ClipsMaster 剧情连贯性与时长控制测试报告</title>
    <style>
        body { font-family: 'Microsoft YaHei', Arial, sans-serif; margin: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        h1 { color: #2c3e50; text-align: center; margin-bottom: 30px; font-size: 28px; }
        .summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; }
        .summary-item { text-align: center; padding: 20px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 10px; color: white; }
        .summary-item h3 { margin: 0; font-size: 14px; opacity: 0.9; }
        .summary-item .value { font-size: 32px; font-weight: bold; margin: 10px 0; }
        .constraints { background: #f8f9fa; padding: 25px; border-radius: 10px; margin: 20px 0; }
        .constraint-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; margin: 10px 0; background: white; border-radius: 8px; border-left: 5px solid #3498db; }
        .pass { border-left-color: #27ae60 !important; }
        .fail { border-left-color: #e74c3c !important; }
        .performance { background: #e8f5e8; padding: 25px; border-radius: 10px; margin: 20px 0; }
        .test-results { margin: 20px 0; }
        .test-item { margin: 15px 0; padding: 15px; border-radius: 8px; background: #f8f9fa; }
        .test-item.pass { border-left: 5px solid #27ae60; }
        .test-item.fail { border-left: 5px solid #e74c3c; }
        .test-name { font-weight: bold; font-size: 16px; }
        .test-details { color: #666; margin-top: 8px; }
        .metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top: 10px; }
        .metric { background: #ecf0f1; padding: 8px 12px; border-radius: 5px; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎭 VisionAI-ClipsMaster 剧情连贯性与时长控制测试报告</h1>

        <div class="summary">
            <div class="summary-item">
                <h3>总测试数</h3>
                <div class="value">11</div>
            </div>
            <div class="summary-item">
                <h3>通过测试</h3>
                <div class="value">7</div>
            </div>
            <div class="summary-item">
                <h3>成功率</h3>
                <div class="value">63.6%</div>
            </div>
            <div class="summary-item">
                <h3>测试时长</h3>
                <div class="value">7.4s</div>
            </div>
        </div>

        <div class="constraints">
            <h3>🎯 核心约束验证结果</h3>

            <div class="constraint-item fail">
                <div>
                    <strong>剧情连贯性</strong><br>
                    <small>平均得分: 0.0% (要求: ≥80%)</small>
                </div>
                <div style="font-size: 24px;">❌</div>
            </div>

            <div class="constraint-item fail">
                <div>
                    <strong>时长控制</strong><br>
                    <small>平均得分: 0.0% (要求: ≥80%)</small>
                </div>
                <div style="font-size: 24px;">❌</div>
            </div>

        </div>

        <div class="performance">
            <h3>⚡ 性能指标</h3>
            <div class="metrics">
                <div class="metric">基线内存: 20.9MB</div>
                <div class="metric">当前内存: 368.0MB</div>
                <div class="metric">内存增长: 347.1MB</div>
                <div class="metric">内存限制: ✅ (<4000MB)</div>
                <div class="metric">内存泄漏: ❌ (<100MB)</div>
            </div>
        </div>

        <div class="test-results">
            <h3>📋 详细测试结果</h3>

            <div class="test-item fail">
                <div class="test-name">[❌ FAIL] 剧情连贯性-完整爱情剧</div>
                <div class="test-details">
                    连贯性: 67.3%, 时长控制: 100.0%<br>
                    执行时间: 0.17s | 内存使用: 31.4MB
                </div>
<div class="metrics"><div class="metric">连贯性评分: 67.3%</div><div class="metric">时长控制评分: 100.0%</div><div class="metric">原始时长: 75.0s</div><div class="metric">重构时长: 22.5s</div><div class="metric">压缩比例: 30.0%</div></div></div>
            <div class="test-item fail">
                <div class="test-name">[❌ FAIL] 剧情连贯性-复杂悬疑剧</div>
                <div class="test-details">
                    连贯性: 50.0%, 时长控制: 100.0%<br>
                    执行时间: 0.00s | 内存使用: 31.4MB
                </div>
<div class="metrics"><div class="metric">连贯性评分: 50.0%</div><div class="metric">时长控制评分: 100.0%</div><div class="metric">原始时长: 40.0s</div><div class="metric">重构时长: 18.0s</div><div class="metric">压缩比例: 45.0%</div></div></div>
            <div class="test-item fail">
                <div class="test-name">[❌ FAIL] 剧情连贯性-短剧情</div>
                <div class="test-details">
                    连贯性: 60.0%, 时长控制: 0.0%<br>
                    执行时间: 0.00s | 内存使用: 31.4MB
                </div>
<div class="metrics"><div class="metric">连贯性评分: 60.0%</div><div class="metric">时长控制评分: 0.0%</div><div class="metric">原始时长: 8.0s</div><div class="metric">重构时长: 8.0s</div><div class="metric">压缩比例: 100.0%</div></div></div>
            <div class="test-item fail">
                <div class="test-name">[❌ FAIL] 时长控制精度</div>
                <div class="test-details">
                    目标范围: True, 连贯性: False, 一致性: True<br>
                    执行时间: 0.00s | 内存使用: 31.5MB
                </div>
<div class="metrics"><div class="metric">平均压缩比: 30.0%</div><div class="metric">压缩比范围: 30.0%-30.0%</div><div class="metric">压缩比标准差: 0.0%</div><div class="metric">平均连贯性: 67.3%</div><div class="metric">连贯性范围: 67.3%-67.3%</div><div class="metric">连贯性标准差: 0.0%</div></div></div>
            <div class="test-item pass">
                <div class="test-name">[✅ PASS] 边缘情况-极短视频</div>
                <div class="test-details">
                    结果类型: <class 'list'>, 长度: 4<br>
                    执行时间: 0.00s | 内存使用: 31.5MB
                </div>
<div class="metrics"><div class="metric">输入片段数: 4</div><div class="metric">输出片段数: 4</div><div class="metric">原始时长: 8.0s</div><div class="metric">重构时长: 8.0s</div></div></div>
            <div class="test-item pass">
                <div class="test-name">[✅ PASS] 边缘情况-单句字幕</div>
                <div class="test-details">
                    结果类型: <class 'list'>, 长度: 1<br>
                    执行时间: 0.00s | 内存使用: 31.5MB
                </div>
<div class="metrics"><div class="metric">输入片段数: 1</div><div class="metric">输出片段数: 1</div><div class="metric">原始时长: 2.0s</div><div class="metric">重构时长: 2.0s</div></div></div>
            <div class="test-item pass">
                <div class="test-name">[✅ PASS] 边缘情况-空字幕</div>
                <div class="test-details">
                    结果类型: <class 'list'>, 长度: 0<br>
                    执行时间: 0.00s | 内存使用: 31.5MB
                </div>
<div class="metrics"><div class="metric">输入片段数: 0</div><div class="metric">输出片段数: 0</div></div></div>
            <div class="test-item pass">
                <div class="test-name">[✅ PASS] UI界面功能</div>
                <div class="test-details">
                    语法: True, 导入: True<br>
                    执行时间: 4.38s | 内存使用: 337.6MB
                </div>
<div class="metrics"><div class="metric">UI文件语法: ✓</div><div class="metric">UI类导入: ✓</div><div class="metric">PyQt6框架: ✓</div></div></div>
            <div class="test-item pass">
                <div class="test-name">[✅ PASS] 核心功能模块</div>
                <div class="test-details">
                    通过: 7/7<br>
                    执行时间: 1.78s | 内存使用: 367.9MB
                </div>
<div class="metrics"><div class="metric">模块-语言检测器: ✓</div><div class="metric">模块-字幕解析器: ✓</div><div class="metric">模块-剧本工程师: ✓</div><div class="metric">模块-视频处理器: ✓</div><div class="metric">模块-剪映导出器: ✓</div><div class="metric">模块-模型切换器: ✓</div><div class="metric">模块-叙事分析器: ✓</div><div class="metric">通过率: 7/7 (100.0%)</div></div></div>
            <div class="test-item pass">
                <div class="test-name">[✅ PASS] 端到端工作流程</div>
                <div class="test-details">
                    步骤通过: 5/5<br>
                    执行时间: 0.02s | 内存使用: 368.0MB
                </div>
<div class="metrics"><div class="metric">步骤-文件解析: ✓</div><div class="metric">步骤-语言检测: ✓</div><div class="metric">步骤-剧本重构: ✓</div><div class="metric">步骤-视频处理器: ✓</div><div class="metric">步骤-剪映导出器: ✓</div><div class="metric">工作流程完整性: 5/5</div></div></div>
            <div class="test-item pass">
                <div class="test-name">[✅ PASS] 性能监控</div>
                <div class="test-details">
                    内存: 368.0MB, CPU: 19.9%<br>
                    执行时间: 1.02s | 内存使用: 368.0MB
                </div>
<div class="metrics"><div class="metric">初始内存: 368.0MB</div><div class="metric">最终内存: 368.0MB</div><div class="metric">内存增长: 0.0MB</div><div class="metric">CPU使用率: 19.9%</div><div class="metric">内存限制检查: ✓</div><div class="metric">内存泄漏检查: ✓</div></div></div>
        </div>

        <div style="text-align: center; margin-top: 30px; color: #7f8c8d;">
            <p>报告生成时间: 2025-07-30 07:13:38</p>
            <p>VisionAI-ClipsMaster 剧情连贯性与时长控制核心约束验证测试</p>
        </div>
    </div>
</body>
</html>
