{
  "test_summary": {
    "total_tests": 11,
    "passed_tests": 7,
    "failed_tests": 4,
    "success_rate": 63.63636363636363,
    "narrative_tests": {
      "passed": 0,
      "total": 4
    },
    "system_tests": {
      "passed": 7,
      "total": 7
    },
    "test_duration": 7.412366
  },
  "core_constraints": {
    "narrative_coherence": {
      "scores": [],
      "average": 0,
      "requirement": "≥80%",
      "passed": false
    },
    "duration_control": {
      "scores": [],
      "average": 0,
      "requirement": "≥80%",
      "passed": false
    }
  },
  "performance_metrics": {
    "baseline_memory": {
      "rss": 21.04296875,
      "vms": 12.6875,
      "percent": 0.13061553449564267
    },
    "current_memory": {
      "rss": 367.25390625,
      "vms": 794.453125,
      "percent": 2.279576890045821
    },
    "memory_increase": 346.2109375,
    "memory_within_limit": true,
    "memory_leak_acceptable": false
  },
  "detailed_results": {
    "剧情连贯性-完整爱情剧": {
      "success": false,
      "details": "连贯性: 64.8%, 时长控制: 100.0%",
      "duration": 0.16695380210876465,
      "timestamp": "2025-07-30T07:11:31.431377",
      "memory_usage": {
        "rss": 31.078125,
        "vms": 21.0703125,
        "percent": 0.1929046208367056
      },
      "metrics": {
        "连贯性评分": "64.8%",
        "时长控制评分": "100.0%",
        "原始时长": "75.0s",
        "重构时长": "42.5s",
        "压缩比例": "56.7%"
      }
    },
    "剧情连贯性-复杂悬疑剧": {
      "success": false,
      "details": "连贯性: 60.0%, 时长控制: 100.0%",
      "duration": 0.0010013580322265625,
      "timestamp": "2025-07-30T07:11:31.433378",
      "memory_usage": {
        "rss": 31.078125,
        "vms": 21.0703125,
        "percent": 0.1929046208367056
      },
      "metrics": {
        "连贯性评分": "60.0%",
        "时长控制评分": "100.0%",
        "原始时长": "40.0s",
        "重构时长": "22.0s",
        "压缩比例": "55.0%"
      }
    },
    "剧情连贯性-短剧情": {
      "success": false,
      "details": "连贯性: 50.0%, 时长控制: 100.0%",
      "duration": 0.006001472473144531,
      "timestamp": "2025-07-30T07:11:31.440378",
      "memory_usage": {
        "rss": 31.078125,
        "vms": 21.0703125,
        "percent": 0.1929046208367056
      },
      "metrics": {
        "连贯性评分": "50.0%",
        "时长控制评分": "100.0%",
        "原始时长": "8.0s",
        "重构时长": "4.0s",
        "压缩比例": "50.0%"
      }
    },
    "时长控制精度": {
      "success": false,
      "details": "目标范围: True, 连贯性: False, 一致性: True",
      "duration": 0.00525975227355957,
      "timestamp": "2025-07-30T07:11:31.446941",
      "memory_usage": {
        "rss": 31.19921875,
        "vms": 21.0703125,
        "percent": 0.19365626025927196
      },
      "metrics": {
        "平均压缩比": "56.7%",
        "压缩比范围": "56.7%-56.7%",
        "压缩比标准差": "0.0%",
        "平均连贯性": "64.8%",
        "连贯性范围": "64.8%-64.8%",
        "连贯性标准差": "0.0%"
      }
    },
    "边缘情况-极短视频": {
      "success": true,
      "details": "结果类型: <class 'list'>, 长度: 2",
      "duration": 0.0010004043579101562,
      "timestamp": "2025-07-30T07:11:31.448942",
      "memory_usage": {
        "rss": 31.203125,
        "vms": 21.0703125,
        "percent": 0.19368050669225798
      },
      "metrics": {
        "输入片段数": 4,
        "输出片段数": 2,
        "原始时长": "8.0s",
        "重构时长": "4.0s"
      }
    },
    "边缘情况-单句字幕": {
      "success": true,
      "details": "结果类型: <class 'list'>, 长度: 2",
      "duration": 0.000997781753540039,
      "timestamp": "2025-07-30T07:11:31.449940",
      "memory_usage": {
        "rss": 31.203125,
        "vms": 21.0703125,
        "percent": 0.19368050669225798
      },
      "metrics": {
        "输入片段数": 1,
        "输出片段数": 2,
        "原始时长": "2.0s",
        "重构时长": "4.0s"
      }
    },
    "边缘情况-空字幕": {
      "success": true,
      "details": "结果类型: <class 'list'>, 长度: 0",
      "duration": 0.001241445541381836,
      "timestamp": "2025-07-30T07:11:31.451181",
      "memory_usage": {
        "rss": 31.203125,
        "vms": 21.0703125,
        "percent": 0.19368050669225798
      },
      "metrics": {
        "输入片段数": 0,
        "输出片段数": 0
      }
    },
    "UI界面功能": {
      "success": true,
      "details": "语法: True, 导入: True",
      "duration": 4.434446096420288,
      "timestamp": "2025-07-30T07:11:35.885627",
      "memory_usage": {
        "rss": 337.1015625,
        "vms": 771.97265625,
        "percent": 2.0924186738268
      },
      "metrics": {
        "UI文件语法": "✓",
        "UI类导入": "✓",
        "PyQt6框架": "✓"
      }
    },
    "核心功能模块": {
      "success": true,
      "details": "通过: 7/7",
      "duration": 1.7630393505096436,
      "timestamp": "2025-07-30T07:11:37.648666",
      "memory_usage": {
        "rss": 367.01171875,
        "vms": 794.2578125,
        "percent": 2.2780736112006883
      },
      "metrics": {
        "模块-语言检测器": "✓",
        "模块-字幕解析器": "✓",
        "模块-剧本工程师": "✓",
        "模块-视频处理器": "✓",
        "模块-剪映导出器": "✓",
        "模块-模型切换器": "✓",
        "模块-叙事分析器": "✓",
        "通过率": "7/7 (100.0%)"
      }
    },
    "端到端工作流程": {
      "success": true,
      "details": "步骤通过: 5/5",
      "duration": 0.011576414108276367,
      "timestamp": "2025-07-30T07:11:37.662283",
      "memory_usage": {
        "rss": 367.2421875,
        "vms": 794.453125,
        "percent": 2.2795041507468627
      },
      "metrics": {
        "步骤-文件解析": "✓",
        "步骤-语言检测": "✓",
        "步骤-剧本重构": "✓",
        "步骤-视频处理器": "✓",
        "步骤-剪映导出器": "✓",
        "工作流程完整性": "5/5"
      }
    },
    "性能监控": {
      "success": true,
      "details": "内存: 367.2MB, CPU: 18.5%",
      "duration": 1.0073425769805908,
      "timestamp": "2025-07-30T07:11:38.670682",
      "memory_usage": {
        "rss": 367.25,
        "vms": 794.453125,
        "percent": 2.279552643612835
      },
      "metrics": {
        "初始内存": "367.2MB",
        "最终内存": "367.2MB",
        "内存增长": "0.0MB",
        "CPU使用率": "18.5%",
        "内存限制检查": "✓",
        "内存泄漏检查": "✓"
      }
    }
  },
  "system_info": {
    "platform": "Windows",
    "python_version": "3.11.11 | packaged by Anaconda, Inc. | (main, Dec 11 2024, 16:34:19) [MSC v.1929 64 bit (AMD64)]",
    "cpu_count": 16,
    "total_memory": 15.733024597167969
  }
}