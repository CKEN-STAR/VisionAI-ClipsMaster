{
  "test_summary": {
    "total_tests": 11,
    "passed_tests": 7,
    "failed_tests": 4,
    "success_rate": 63.63636363636363,
    "narrative_tests": {
      "passed": 0,
      "total": 4
    },
    "system_tests": {
      "passed": 7,
      "total": 7
    },
    "test_duration": 7.389731
  },
  "core_constraints": {
    "narrative_coherence": {
      "scores": [],
      "average": 0,
      "requirement": "≥80%",
      "passed": false
    },
    "duration_control": {
      "scores": [],
      "average": 0,
      "requirement": "≥80%",
      "passed": false
    }
  },
  "performance_metrics": {
    "baseline_memory": {
      "rss": 20.92578125,
      "vms": 12.5703125,
      "percent": 0.12988814150606234
    },
    "current_memory": {
      "rss": 368.046875,
      "vms": 795.1015625,
      "percent": 2.284498915941981
    },
    "memory_increase": 347.12109375,
    "memory_within_limit": true,
    "memory_leak_acceptable": false
  },
  "detailed_results": {
    "剧情连贯性-完整爱情剧": {
      "success": false,
      "details": "连贯性: 67.3%, 时长控制: 100.0%",
      "duration": 0.1693861484527588,
      "timestamp": "2025-07-30T07:13:31.218221",
      "memory_usage": {
        "rss": 31.359375,
        "vms": 21.453125,
        "percent": 0.1946503640116984
      },
      "metrics": {
        "连贯性评分": "67.3%",
        "时长控制评分": "100.0%",
        "原始时长": "75.0s",
        "重构时长": "22.5s",
        "压缩比例": "30.0%"
      }
    },
    "剧情连贯性-复杂悬疑剧": {
      "success": false,
      "details": "连贯性: 50.0%, 时长控制: 100.0%",
      "duration": 0.0,
      "timestamp": "2025-07-30T07:13:31.218221",
      "memory_usage": {
        "rss": 31.36328125,
        "vms": 21.453125,
        "percent": 0.19467461044468443
      },
      "metrics": {
        "连贯性评分": "50.0%",
        "时长控制评分": "100.0%",
        "原始时长": "40.0s",
        "重构时长": "18.0s",
        "压缩比例": "45.0%"
      }
    },
    "剧情连贯性-短剧情": {
      "success": false,
      "details": "连贯性: 60.0%, 时长控制: 0.0%",
      "duration": 0.0,
      "timestamp": "2025-07-30T07:13:31.218221",
      "memory_usage": {
        "rss": 31.36328125,
        "vms": 21.453125,
        "percent": 0.19467461044468443
      },
      "metrics": {
        "连贯性评分": "60.0%",
        "时长控制评分": "0.0%",
        "原始时长": "8.0s",
        "重构时长": "8.0s",
        "压缩比例": "100.0%"
      }
    },
    "时长控制精度": {
      "success": false,
      "details": "目标范围: True, 连贯性: False, 一致性: True",
      "duration": 0.004278659820556641,
      "timestamp": "2025-07-30T07:13:31.230645",
      "memory_usage": {
        "rss": 31.4765625,
        "vms": 21.453125,
        "percent": 0.19537775700127877
      },
      "metrics": {
        "平均压缩比": "30.0%",
        "压缩比范围": "30.0%-30.0%",
        "压缩比标准差": "0.0%",
        "平均连贯性": "67.3%",
        "连贯性范围": "67.3%-67.3%",
        "连贯性标准差": "0.0%"
      }
    },
    "边缘情况-极短视频": {
      "success": true,
      "details": "结果类型: <class 'list'>, 长度: 4",
      "duration": 0.0,
      "timestamp": "2025-07-30T07:13:31.232999",
      "memory_usage": {
        "rss": 31.484375,
        "vms": 21.453125,
        "percent": 0.19542624986725077
      },
      "metrics": {
        "输入片段数": 4,
        "输出片段数": 4,
        "原始时长": "8.0s",
        "重构时长": "8.0s"
      }
    },
    "边缘情况-单句字幕": {
      "success": true,
      "details": "结果类型: <class 'list'>, 长度: 1",
      "duration": 0.0,
      "timestamp": "2025-07-30T07:13:31.234036",
      "memory_usage": {
        "rss": 31.484375,
        "vms": 21.453125,
        "percent": 0.19542624986725077
      },
      "metrics": {
        "输入片段数": 1,
        "输出片段数": 1,
        "原始时长": "2.0s",
        "重构时长": "2.0s"
      }
    },
    "边缘情况-空字幕": {
      "success": true,
      "details": "结果类型: <class 'list'>, 长度: 0",
      "duration": 0.0009694099426269531,
      "timestamp": "2025-07-30T07:13:31.235005",
      "memory_usage": {
        "rss": 31.484375,
        "vms": 21.453125,
        "percent": 0.19542624986725077
      },
      "metrics": {
        "输入片段数": 0,
        "输出片段数": 0
      }
    },
    "UI界面功能": {
      "success": true,
      "details": "语法: True, 导入: True",
      "duration": 4.376187562942505,
      "timestamp": "2025-07-30T07:13:35.611193",
      "memory_usage": {
        "rss": 337.6015625,
        "vms": 772.265625,
        "percent": 2.0955222172490093
      },
      "metrics": {
        "UI文件语法": "✓",
        "UI类导入": "✓",
        "PyQt6框架": "✓"
      }
    },
    "核心功能模块": {
      "success": true,
      "details": "通过: 7/7",
      "duration": 1.7829608917236328,
      "timestamp": "2025-07-30T07:13:37.395154",
      "memory_usage": {
        "rss": 367.86328125,
        "vms": 794.97265625,
        "percent": 2.2833593335916387
      },
      "metrics": {
        "模块-语言检测器": "✓",
        "模块-字幕解析器": "✓",
        "模块-剧本工程师": "✓",
        "模块-视频处理器": "✓",
        "模块-剪映导出器": "✓",
        "模块-模型切换器": "✓",
        "模块-叙事分析器": "✓",
        "通过率": "7/7 (100.0%)"
      }
    },
    "端到端工作流程": {
      "success": true,
      "details": "步骤通过: 5/5",
      "duration": 0.015537738800048828,
      "timestamp": "2025-07-30T07:13:37.412468",
      "memory_usage": {
        "rss": 368.03125,
        "vms": 795.1015625,
        "percent": 2.2844019302100373
      },
      "metrics": {
        "步骤-文件解析": "✓",
        "步骤-语言检测": "✓",
        "步骤-剧本重构": "✓",
        "步骤-视频处理器": "✓",
        "步骤-剪映导出器": "✓",
        "工作流程完整性": "5/5"
      }
    },
    "性能监控": {
      "success": true,
      "details": "内存: 368.0MB, CPU: 19.9%",
      "duration": 1.016007900238037,
      "timestamp": "2025-07-30T07:13:38.428476",
      "memory_usage": {
        "rss": 368.04296875,
        "vms": 795.1015625,
        "percent": 2.2844746695089952
      },
      "metrics": {
        "初始内存": "368.0MB",
        "最终内存": "368.0MB",
        "内存增长": "0.0MB",
        "CPU使用率": "19.9%",
        "内存限制检查": "✓",
        "内存泄漏检查": "✓"
      }
    }
  },
  "system_info": {
    "platform": "Windows",
    "python_version": "3.11.11 | packaged by Anaconda, Inc. | (main, Dec 11 2024, 16:34:19) [MSC v.1929 64 bit (AMD64)]",
    "cpu_count": 16,
    "total_memory": 15.733024597167969
  }
}