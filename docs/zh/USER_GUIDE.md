# 📖 VisionAI-ClipsMaster 中文用户指南

> **完整的中文用户操作手册** - 从入门到精通

## 🎯 快速导航

- [🚀 快速开始](#-快速开始)
- [📝 基础操作](#-基础操作)
- [🤖 AI功能详解](#-ai功能详解)
- [🎬 视频处理](#-视频处理)
- [⚙️ 高级设置](#️-高级设置)
- [❓ 常见问题](#-常见问题)

## 🚀 快速开始

### 第一次使用

1. **启动程序**
   ```bash
   # 方式1: 双击启动
   packaging\启动VisionAI-ClipsMaster.bat

   # 方式2: 命令行启动
   python simple_ui_fixed.py
   ```

2. **界面概览**
   - 🎬 **视频导入区**: 拖拽或选择原始短剧视频
   - 📝 **字幕上传区**: 上传对应的SRT字幕文件
   - 🤖 **AI处理区**: 配置AI模型和处理参数
   - 📤 **导出设置区**: 选择输出格式和路径

3. **5分钟快速体验**
   - 导入测试视频和字幕
   - 点击"开始AI重构"
   - 等待处理完成
   - 查看生成的混剪视频

## 📝 基础操作

### 1. 导入素材

#### 视频文件导入
```
支持格式: MP4, AVI, MOV, MKV, FLV
推荐格式: MP4 (H.264编码)
文件大小: 建议 < 2GB
分辨率: 支持720p-4K
```

**操作步骤:**
1. 点击"选择视频文件"按钮
2. 浏览并选择短剧原片
3. 等待文件加载完成
4. 确认视频信息显示正确

#### 字幕文件导入
```
支持格式: SRT, ASS, VTT
编码要求: UTF-8 (推荐)
语言支持: 中文、英文
时间轴: 必须与视频同步
```

**操作步骤:**
1. 点击"上传字幕文件"按钮
2. 选择对应的字幕文件
3. 系统自动检测语言类型
4. 预览字幕内容和时间轴

### 2. AI模型配置

#### 自动语言检测
系统会自动检测字幕语言并选择合适的AI模型:
- 🇨🇳 **中文内容** → Qwen2.5-7B模型
- 🇺🇸 **英文内容** → Mistral-7B模型
- 🌐 **混合内容** → 智能切换模式

#### 手动模型选择
如果自动检测不准确，可以手动选择:
1. 点击"模型设置"
2. 选择目标语言
3. 选择量化等级 (Q2_K/Q4_K_M/Q5_K)
4. 确认模型加载状态

### 3. 剧本重构设置

#### 重构风格选择
- 🔥 **爆款风格**: 适合抖音、快手等短视频平台
- 📺 **传统风格**: 保持原有叙事结构
- 🎭 **悬疑风格**: 增加悬念和反转
- 💕 **情感风格**: 突出情感冲突

#### 时长控制
```
最短时长: 30秒 (避免剧情不连贯)
最长时长: 300秒 (保持观众注意力)
推荐时长: 60-120秒 (最佳传播效果)
```

## 🤖 AI功能详解

### 剧本重构原理

1. **剧情理解阶段**
   - AI分析原始字幕内容
   - 识别关键剧情节点
   - 理解角色关系和情感变化

2. **结构重组阶段**
   - 提取最具吸引力的片段
   - 重新排列叙事顺序
   - 优化节奏和张力

3. **字幕生成阶段**
   - 生成新的时间轴
   - 保持语言风格一致
   - 确保逻辑连贯性

### 投喂训练功能

#### 训练数据准备
1. **爆款视频字幕**: 网上收集的高播放量短剧混剪字幕
2. **原片字幕**: 对应的完整短剧原片字幕
3. **数据配对**: 建立"原片→爆款"的训练对

#### 训练流程
```
数据上传 → 质量检验 → 模型训练 → 效果验证 → 模型更新
```

**操作步骤:**
1. 点击"投喂训练"标签
2. 上传爆款视频字幕文件
3. 上传对应的原片字幕文件
4. 设置训练参数
5. 开始训练过程
6. 监控训练进度

## 🎬 视频处理

### 自动拼接流程

1. **时间轴映射**
   - 根据新字幕的时间码
   - 在原片中定位对应片段
   - 精确到帧级别的切割

2. **片段提取**
   - 无损提取视频片段
   - 保持原始画质和音质
   - 自动处理音视频同步

3. **智能拼接**
   - 按新字幕顺序拼接片段
   - 不添加转场效果
   - 保持自然的剪辑节奏

### 导出选项

#### 视频格式
- **MP4**: 通用格式，兼容性最好
- **剪映工程**: 可在剪映中二次编辑

#### 质量设置
```
高质量: 1080p, 8Mbps码率
标准质量: 720p, 4Mbps码率
压缩版: 480p, 2Mbps码率
```

#### 文件命名
```
格式: [原文件名]_AI混剪_[时间戳].mp4
示例: 霸道总裁_AI混剪_20250127.mp4
```

## ⚙️ 高级设置

### 性能优化

#### 内存管理
- **低内存模式**: 适用于4GB内存设备
- **标准模式**: 适用于8GB内存设备
- **高性能模式**: 适用于16GB+内存设备

#### GPU加速
```
NVIDIA GPU: 自动启用CUDA加速
AMD GPU: 支持OpenCL加速
集成显卡: 使用CPU处理
```

### 自定义配置

#### 字幕样式
- 字体大小: 12-24px
- 字体颜色: 自定义RGB
- 背景透明度: 0-100%
- 位置调整: 上中下三档

#### 处理参数
```yaml
# 高级配置示例
processing:
  max_segment_length: 30  # 最大片段长度(秒)
  min_segment_length: 3   # 最小片段长度(秒)
  overlap_tolerance: 0.5  # 重叠容忍度(秒)
  quality_threshold: 0.8  # 质量阈值
```

## ❓ 常见问题

### 使用问题

**Q: 为什么AI生成的字幕与原片不匹配？**
A: 检查字幕文件编码是否为UTF-8，时间轴是否与视频同步。

**Q: 处理速度很慢怎么办？**
A: 尝试降低模型量化等级(Q2_K)，或启用低内存模式。

**Q: 生成的视频画质模糊？**
A: 检查原片质量，调整导出质量设置为"高质量"。

### 技术问题

**Q: 模型加载失败？**
A: 检查网络连接，运行 `python scripts/download_models.py` 重新下载。

**Q: 内存不足错误？**
A: 启用低内存模式，关闭其他占用内存的程序。

**Q: 字幕乱码问题？**
A: 将字幕文件转换为UTF-8编码，或使用记事本另存为UTF-8格式。

### 效果优化

**Q: 如何提高AI重构质量？**
A: 
1. 使用高质量的训练数据进行投喂训练
2. 选择合适的重构风格
3. 调整时长控制参数

**Q: 如何让生成的视频更有吸引力？**
A:
1. 选择"爆款风格"重构模式
2. 控制视频时长在60-120秒
3. 确保原片内容质量较高

## 📞 技术支持

如需更多帮助，请参考:
- [故障排除指南](../../TROUBLESHOOTING.md)
- [常见问题解答](../../FAQ.md)
- [GitHub Issues](https://github.com/CKEN-STAR/VisionAI-ClipsMaster/issues)

---

**祝您使用愉快！创作出更多精彩的短剧混剪作品！** 🎬✨
