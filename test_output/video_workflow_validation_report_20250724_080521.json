{
  "suite_info": {
    "start_time": "2025-07-24T08:05:04.634846",
    "version": "1.0.0",
    "description": "VisionAI-ClipsMaster视频处理工作流验证系统",
    "end_time": "2025-07-24T08:05:21.099597",
    "duration_seconds": 16.464751720428467
  },
  "test_results": {
    "end_to_end_workflow": {
      "success": false,
      "tests_run": 2,
      "failures": 0,
      "errors": 2,
      "skipped": 0,
      "duration": 3.860994815826416,
      "details": {
        "failures": [],
        "errors": [
          "(<tests.video_workflow_validation.test_end_to_end_workflow.EndToEndWorkflowTest testMethod=test_complete_workflow_chinese>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 98, in _generate_test_video\\n    subprocess.run([\"ffmpeg\", \"-version\"], capture_output=True, check=True)\\n  File \"C:\\\\Users\\\\13075\\\\Miniconda3\\\\Lib\\\\subprocess.py\", line 548, in run\\n    with Popen(*popenargs, **kwargs) as process:\\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"C:\\\\Users\\\\13075\\\\Miniconda3\\\\Lib\\\\subprocess.py\", line 1026, in __init__\\n    self._execute_child(args, executable, preexec_fn, close_fds,\\n  File \"C:\\\\Users\\\\13075\\\\Miniconda3\\\\Lib\\\\subprocess.py\", line 1538, in _execute_child\\n    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nFileNotFoundError: [WinError 2] 系统找不到指定的文件。\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 100, in _generate_test_video\\n    self.logger.warning(\"FFmpeg不可用，创建模拟视频文件\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'EndToEndWorkflowTest\\' object has no attribute \\'logger\\'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 46, in setUp\\n    self.test_videos = self._create_test_videos()\\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 67, in _create_test_videos\\n    video_path = self._generate_test_video(\\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 114, in _generate_test_video\\n    self.logger.error(f\"生成测试视频失败: {e}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'EndToEndWorkflowTest\\' object has no attribute \\'logger\\'\\n')",
          "(<tests.video_workflow_validation.test_end_to_end_workflow.EndToEndWorkflowTest testMethod=test_complete_workflow_english>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 98, in _generate_test_video\\n    subprocess.run([\"ffmpeg\", \"-version\"], capture_output=True, check=True)\\n  File \"C:\\\\Users\\\\13075\\\\Miniconda3\\\\Lib\\\\subprocess.py\", line 548, in run\\n    with Popen(*popenargs, **kwargs) as process:\\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"C:\\\\Users\\\\13075\\\\Miniconda3\\\\Lib\\\\subprocess.py\", line 1026, in __init__\\n    self._execute_child(args, executable, preexec_fn, close_fds,\\n  File \"C:\\\\Users\\\\13075\\\\Miniconda3\\\\Lib\\\\subprocess.py\", line 1538, in _execute_child\\n    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nFileNotFoundError: [WinError 2] 系统找不到指定的文件。\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 100, in _generate_test_video\\n    self.logger.warning(\"FFmpeg不可用，创建模拟视频文件\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'EndToEndWorkflowTest\\' object has no attribute \\'logger\\'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 46, in setUp\\n    self.test_videos = self._create_test_videos()\\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 67, in _create_test_videos\\n    video_path = self._generate_test_video(\\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_end_to_end_workflow.py\", line 114, in _generate_test_video\\n    self.logger.error(f\"生成测试视频失败: {e}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'EndToEndWorkflowTest\\' object has no attribute \\'logger\\'\\n')"
        ]
      }
    },
    "video_format_compatibility": {
      "success": false,
      "tests_run": 4,
      "failures": 2,
      "errors": 0,
      "skipped": 0,
      "duration": 10.180574655532837,
      "details": {
        "failures": [
          "(<tests.video_workflow_validation.test_video_format_compatibility.VideoFormatCompatibilityTest testMethod=test_different_durations>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_video_format_compatibility.py\", line 126, in test_different_durations\\n    self.assertTrue(test_result.get(\"success\", False),\\nAssertionError: False is not true : 短视频(30秒) 处理失败\\n')",
          "(<tests.video_workflow_validation.test_video_format_compatibility.VideoFormatCompatibilityTest testMethod=test_format_support_detection>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_video_format_compatibility.py\", line 102, in test_format_support_detection\\n    self.assertTrue(support_result[\"supported\"],\\nAssertionError: False is not true : 高兼容性格式 mp4 应该被支持\\n')"
        ],
        "errors": []
      }
    },
    "quality_validation": {
      "success": false,
      "tests_run": 3,
      "failures": 0,
      "errors": 3,
      "skipped": 0,
      "duration": 0.06589460372924805,
      "details": {
        "failures": [],
        "errors": [
          "(<tests.video_workflow_validation.test_quality_validation.QualityValidationTest testMethod=test_subtitle_sync_accuracy>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 131, in _create_mock_quality_video\\n    self.logger.info(f\"创建模拟质量视频: {output_path}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'QualityValidationTest\\' object has no attribute \\'logger\\'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 107, in _generate_quality_test_video\\n    return self._create_mock_quality_video(output_path, config)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 135, in _create_mock_quality_video\\n    self.logger.error(f\"创建模拟质量视频失败: {e}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'QualityValidationTest\\' object has no attribute \\'logger\\'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 51, in setUp\\n    self.test_videos = self._create_quality_test_videos()\\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 72, in _create_quality_test_videos\\n    video_path = self._generate_quality_test_video(config)\\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 110, in _generate_quality_test_video\\n    self.logger.error(f\"生成质量测试视频失败: {e}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'QualityValidationTest\\' object has no attribute \\'logger\\'\\n')",
          "(<tests.video_workflow_validation.test_quality_validation.QualityValidationTest testMethod=test_video_quality_preservation>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 131, in _create_mock_quality_video\\n    self.logger.info(f\"创建模拟质量视频: {output_path}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'QualityValidationTest\\' object has no attribute \\'logger\\'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 107, in _generate_quality_test_video\\n    return self._create_mock_quality_video(output_path, config)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 135, in _create_mock_quality_video\\n    self.logger.error(f\"创建模拟质量视频失败: {e}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'QualityValidationTest\\' object has no attribute \\'logger\\'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 51, in setUp\\n    self.test_videos = self._create_quality_test_videos()\\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 72, in _create_quality_test_videos\\n    video_path = self._generate_quality_test_video(config)\\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 110, in _generate_quality_test_video\\n    self.logger.error(f\"生成质量测试视频失败: {e}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'QualityValidationTest\\' object has no attribute \\'logger\\'\\n')",
          "(<tests.video_workflow_validation.test_quality_validation.QualityValidationTest testMethod=test_video_smoothness>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 131, in _create_mock_quality_video\\n    self.logger.info(f\"创建模拟质量视频: {output_path}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'QualityValidationTest\\' object has no attribute \\'logger\\'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 107, in _generate_quality_test_video\\n    return self._create_mock_quality_video(output_path, config)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 135, in _create_mock_quality_video\\n    self.logger.error(f\"创建模拟质量视频失败: {e}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'QualityValidationTest\\' object has no attribute \\'logger\\'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 51, in setUp\\n    self.test_videos = self._create_quality_test_videos()\\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 72, in _create_quality_test_videos\\n    video_path = self._generate_quality_test_video(config)\\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_quality_validation.py\", line 110, in _generate_quality_test_video\\n    self.logger.error(f\"生成质量测试视频失败: {e}\")\\n    ^^^^^^^^^^^\\nAttributeError: \\'QualityValidationTest\\' object has no attribute \\'logger\\'\\n')"
        ]
      }
    },
    "ui_integration": {
      "success": true,
      "tests_run": 5,
      "failures": 0,
      "errors": 0,
      "skipped": 2,
      "duration": 0.6814765930175781,
      "details": {
        "failures": [],
        "errors": []
      }
    },
    "exception_handling": {
      "success": false,
      "tests_run": 4,
      "failures": 0,
      "errors": 4,
      "skipped": 0,
      "duration": 1.6728057861328125,
      "details": {
        "failures": [],
        "errors": [
          "(<tests.video_workflow_validation.test_exception_handling.ExceptionHandlingTest testMethod=test_invalid_file_format_handling>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_exception_handling.py\", line 523, in tearDown\\n    self.memory_manager.cleanup()\\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: \\'MemoryManager\\' object has no attribute \\'cleanup\\'\\n')",
          "(<tests.video_workflow_validation.test_exception_handling.ExceptionHandlingTest testMethod=test_memory_exhaustion_handling>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_exception_handling.py\", line 523, in tearDown\\n    self.memory_manager.cleanup()\\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: \\'MemoryManager\\' object has no attribute \\'cleanup\\'\\n')",
          "(<tests.video_workflow_validation.test_exception_handling.ExceptionHandlingTest testMethod=test_network_interruption_simulation>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_exception_handling.py\", line 523, in tearDown\\n    self.memory_manager.cleanup()\\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: \\'MemoryManager\\' object has no attribute \\'cleanup\\'\\n')",
          "(<tests.video_workflow_validation.test_exception_handling.ExceptionHandlingTest testMethod=test_process_cancellation_handling>, 'Traceback (most recent call last):\\n  File \"D:\\\\zancun\\\\VisionAI-ClipsMaster\\\\tests\\\\video_workflow_validation\\\\test_exception_handling.py\", line 523, in tearDown\\n    self.memory_manager.cleanup()\\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: \\'MemoryManager\\' object has no attribute \\'cleanup\\'\\n')"
        ]
      }
    }
  },
  "performance_metrics": {
    "total_duration": 16.464751720428467,
    "total_tests": 18,
    "avg_test_duration": 0.9147084289126926,
    "module_durations": {
      "end_to_end_workflow": 3.860994815826416,
      "video_format_compatibility": 10.180574655532837,
      "quality_validation": 0.06589460372924805,
      "ui_integration": 0.6814765930175781,
      "exception_handling": 1.6728057861328125
    },
    "fastest_module": [
      "quality_validation",
      0.06589460372924805
    ],
    "slowest_module": [
      "video_format_compatibility",
      10.180574655532837
    ],
    "performance_score": 100
  },
  "summary": {
    "total_modules": 5,
    "successful_modules": 1,
    "module_success_rate": 0.2,
    "total_tests": 18,
    "total_failures": 2,
    "total_errors": 9,
    "test_success_rate": 0.3888888888888889,
    "duration_seconds": 16.464751720428467,
    "overall_success": false
  },
  "recommendations": [
    {
      "category": "端到端工作流",
      "priority": "高",
      "issue": "端到端工作流测试失败",
      "recommendation": "检查视频处理管道和字幕重构服务的集成，确保工作流各阶段正常运行"
    },
    {
      "category": "格式兼容性",
      "priority": "中",
      "issue": "视频格式兼容性测试失败",
      "recommendation": "增强视频格式检测和转换功能，支持更多主流视频格式"
    },
    {
      "category": "视频质量",
      "priority": "高",
      "issue": "视频质量验证失败",
      "recommendation": "优化视频处理算法，确保输出质量和字幕同步精度"
    },
    {
      "category": "异常处理",
      "priority": "高",
      "issue": "异常处理测试失败",
      "recommendation": "加强异常处理机制和恢复策略，提高系统稳定性"
    }
  ]
}