{
  "test_info": {
    "test_name": "VisionAI-ClipsMaster 视频处理模块完整工作流程测试",
    "version": "v1.0.1",
    "timestamp": "2025-07-25T00:19:26.475944",
    "test_duration": 4.688880205154419,
    "total_tests": 29,
    "passed_tests": 12,
    "failed_tests": 12,
    "skipped_tests": 5
  },
  "input_processing_tests": {},
  "script_reconstruction_tests": {},
  "video_splicing_tests": {},
  "performance_stability_tests": {},
  "output_quality_tests": {},
  "detailed_results": [
    {
      "category": "环境设置",
      "test_name": "测试环境创建",
      "status": "PASSED",
      "details": "临时测试目录: C:\\Users\\13075\\AppData\\Local\\Temp\\visionai_test_ugfoeljx",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:26.475944"
    },
    {
      "category": "输入处理",
      "test_name": "测试SRT文件创建",
      "status": "PASSED",
      "details": "创建测试字幕: C:\\Users\\13075\\AppData\\Local\\Temp\\visionai_test_ugfoeljx\\input/subtitles/test_subtitle.srt",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:26.708720"
    },
    {
      "category": "输入处理",
      "test_name": "字幕格式验证",
      "status": "FAILED",
      "details": "字幕格式检查结果: False",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:26.709422"
    },
    {
      "category": "输入处理",
      "test_name": "文件格式验证",
      "status": "FAILED",
      "details": "",
      "error_info": "'FileValidator' object has no attribute 'check_file_safety'",
      "timestamp": "2025-07-25T00:19:26.709422"
    },
    {
      "category": "输入处理",
      "test_name": "测试SRT文件创建",
      "status": "PASSED",
      "details": "创建测试字幕: C:\\Users\\13075\\AppData\\Local\\Temp\\visionai_test_ugfoeljx\\input/subtitles/test_subtitle.srt",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:26.709422"
    },
    {
      "category": "输入处理",
      "test_name": "文件完整性校验",
      "status": "FAILED",
      "details": "",
      "error_info": "'FileValidator' object has no attribute 'calculate_hash'",
      "timestamp": "2025-07-25T00:19:26.709422"
    },
    {
      "category": "输入处理",
      "test_name": "中文语言检测",
      "status": "PASSED",
      "details": "检测结果: zh",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:29.709208"
    },
    {
      "category": "输入处理",
      "test_name": "英文语言检测",
      "status": "PASSED",
      "details": "检测结果: en",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:29.709208"
    },
    {
      "category": "输入处理",
      "test_name": "测试SRT文件创建",
      "status": "PASSED",
      "details": "创建测试字幕: C:\\Users\\13075\\AppData\\Local\\Temp\\visionai_test_ugfoeljx\\input/subtitles/test_subtitle.srt",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:29.726113"
    },
    {
      "category": "剧本重构",
      "test_name": "字幕文件解析",
      "status": "PASSED",
      "details": "成功解析 5 条字幕",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:29.733092"
    },
    {
      "category": "剧本重构",
      "test_name": "原片字幕解析",
      "status": "FAILED",
      "details": "",
      "error_info": "'ScreenplayEngineer' object has no attribute 'analyze_plot_structure'",
      "timestamp": "2025-07-25T00:19:29.733092"
    },
    {
      "category": "剧本重构",
      "test_name": "字幕数据加载",
      "status": "PASSED",
      "details": "成功加载 5 条字幕",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:29.733092"
    },
    {
      "category": "剧本重构",
      "test_name": "剧本重构功能",
      "status": "FAILED",
      "details": "",
      "error_info": "'ScreenplayEngineer' object has no attribute 'reconstruct_screenplay'",
      "timestamp": "2025-07-25T00:19:29.733092"
    },
    {
      "category": "剧本重构",
      "test_name": "字幕时长优化",
      "status": "SKIPPED",
      "details": "optimize_duration方法不存在",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:29.733092"
    },
    {
      "category": "剧本重构",
      "test_name": "原始字幕时长计算",
      "status": "PASSED",
      "details": "原始字幕总时长: 40.0秒",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:29.733092"
    },
    {
      "category": "剧本重构",
      "test_name": "字幕长度控制",
      "status": "FAILED",
      "details": "",
      "error_info": "'ScreenplayEngineer' object has no attribute 'reconstruct_screenplay'",
      "timestamp": "2025-07-25T00:19:29.733092"
    },
    {
      "category": "视频拼接",
      "test_name": "时间轴对齐",
      "status": "PASSED",
      "details": "对齐引擎初始化成功",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:30.442192"
    },
    {
      "category": "视频拼接",
      "test_name": "FFmpeg依赖检查",
      "status": "SKIPPED",
      "details": "跳过FFmpeg依赖测试，专注于逻辑验证",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:30.457087"
    },
    {
      "category": "视频拼接",
      "test_name": "片段验证",
      "status": "PASSED",
      "details": "片段验证完成，有效片段: 2",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:30.457087"
    },
    {
      "category": "输入处理",
      "test_name": "测试视频文件创建",
      "status": "FAILED",
      "details": "",
      "error_info": "[WinError 2] 系统找不到指定的文件。",
      "timestamp": "2025-07-25T00:19:30.459547"
    },
    {
      "category": "视频拼接",
      "test_name": "视频拼接",
      "status": "SKIPPED",
      "details": "测试视频创建失败",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:30.459547"
    },
    {
      "category": "性能稳定性",
      "test_name": "内存占用控制",
      "status": "FAILED",
      "details": "",
      "error_info": "'ModelLoader' object has no attribute 'load_quantized_model'",
      "timestamp": "2025-07-25T00:19:30.462226"
    },
    {
      "category": "性能稳定性",
      "test_name": "模型切换器初始化",
      "status": "PASSED",
      "details": "ModelSwitcher初始化成功",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:30.463260"
    },
    {
      "category": "性能稳定性",
      "test_name": "模型可用性检查",
      "status": "SKIPPED",
      "details": "check_model_availability方法不存在",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:30.463260"
    },
    {
      "category": "性能稳定性",
      "test_name": "模型选择",
      "status": "SKIPPED",
      "details": "select_model_by_language方法不存在",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:30.463260"
    },
    {
      "category": "性能稳定性",
      "test_name": "异常恢复",
      "status": "FAILED",
      "details": "",
      "error_info": "'RecoveryManager' object has no attribute 'save_checkpoint'",
      "timestamp": "2025-07-25T00:19:30.464311"
    },
    {
      "category": "输出质量",
      "test_name": "剧情连贯性检查",
      "status": "FAILED",
      "details": "QualityValidator模块导入失败",
      "error_info": "cannot import name 'QualityValidator' from 'src.eval.quality_validator' (D:\\zancun\\VisionAI-ClipsMaster\\src\\eval\\quality_validator.py)",
      "timestamp": "2025-07-25T00:19:30.466252"
    },
    {
      "category": "输出质量",
      "test_name": "剪映工程导出",
      "status": "FAILED",
      "details": "导出文件格式不正确",
      "error_info": "",
      "timestamp": "2025-07-25T00:19:31.164824"
    },
    {
      "category": "输出质量",
      "test_name": "输出文件完整性",
      "status": "FAILED",
      "details": "",
      "error_info": "'FileValidator' object has no attribute 'calculate_hash'",
      "timestamp": "2025-07-25T00:19:31.164824"
    }
  ],
  "环境设置_tests": {
    "测试环境创建": {
      "status": "PASSED",
      "details": "临时测试目录: C:\\Users\\13075\\AppData\\Local\\Temp\\visionai_test_ugfoeljx",
      "error_info": ""
    }
  },
  "输入处理_tests": {
    "测试SRT文件创建": {
      "status": "PASSED",
      "details": "创建测试字幕: C:\\Users\\13075\\AppData\\Local\\Temp\\visionai_test_ugfoeljx\\input/subtitles/test_subtitle.srt",
      "error_info": ""
    },
    "字幕格式验证": {
      "status": "FAILED",
      "details": "字幕格式检查结果: False",
      "error_info": ""
    },
    "文件格式验证": {
      "status": "FAILED",
      "details": "",
      "error_info": "'FileValidator' object has no attribute 'check_file_safety'"
    },
    "文件完整性校验": {
      "status": "FAILED",
      "details": "",
      "error_info": "'FileValidator' object has no attribute 'calculate_hash'"
    },
    "中文语言检测": {
      "status": "PASSED",
      "details": "检测结果: zh",
      "error_info": ""
    },
    "英文语言检测": {
      "status": "PASSED",
      "details": "检测结果: en",
      "error_info": ""
    },
    "测试视频文件创建": {
      "status": "FAILED",
      "details": "",
      "error_info": "[WinError 2] 系统找不到指定的文件。"
    }
  },
  "剧本重构_tests": {
    "字幕文件解析": {
      "status": "PASSED",
      "details": "成功解析 5 条字幕",
      "error_info": ""
    },
    "原片字幕解析": {
      "status": "FAILED",
      "details": "",
      "error_info": "'ScreenplayEngineer' object has no attribute 'analyze_plot_structure'"
    },
    "字幕数据加载": {
      "status": "PASSED",
      "details": "成功加载 5 条字幕",
      "error_info": ""
    },
    "剧本重构功能": {
      "status": "FAILED",
      "details": "",
      "error_info": "'ScreenplayEngineer' object has no attribute 'reconstruct_screenplay'"
    },
    "字幕时长优化": {
      "status": "SKIPPED",
      "details": "optimize_duration方法不存在",
      "error_info": ""
    },
    "原始字幕时长计算": {
      "status": "PASSED",
      "details": "原始字幕总时长: 40.0秒",
      "error_info": ""
    },
    "字幕长度控制": {
      "status": "FAILED",
      "details": "",
      "error_info": "'ScreenplayEngineer' object has no attribute 'reconstruct_screenplay'"
    }
  },
  "视频拼接_tests": {
    "时间轴对齐": {
      "status": "PASSED",
      "details": "对齐引擎初始化成功",
      "error_info": ""
    },
    "FFmpeg依赖检查": {
      "status": "SKIPPED",
      "details": "跳过FFmpeg依赖测试，专注于逻辑验证",
      "error_info": ""
    },
    "片段验证": {
      "status": "PASSED",
      "details": "片段验证完成，有效片段: 2",
      "error_info": ""
    },
    "视频拼接": {
      "status": "SKIPPED",
      "details": "测试视频创建失败",
      "error_info": ""
    }
  },
  "性能稳定性_tests": {
    "内存占用控制": {
      "status": "FAILED",
      "details": "",
      "error_info": "'ModelLoader' object has no attribute 'load_quantized_model'"
    },
    "模型切换器初始化": {
      "status": "PASSED",
      "details": "ModelSwitcher初始化成功",
      "error_info": ""
    },
    "模型可用性检查": {
      "status": "SKIPPED",
      "details": "check_model_availability方法不存在",
      "error_info": ""
    },
    "模型选择": {
      "status": "SKIPPED",
      "details": "select_model_by_language方法不存在",
      "error_info": ""
    },
    "异常恢复": {
      "status": "FAILED",
      "details": "",
      "error_info": "'RecoveryManager' object has no attribute 'save_checkpoint'"
    }
  },
  "输出质量_tests": {
    "剧情连贯性检查": {
      "status": "FAILED",
      "details": "QualityValidator模块导入失败",
      "error_info": "cannot import name 'QualityValidator' from 'src.eval.quality_validator' (D:\\zancun\\VisionAI-ClipsMaster\\src\\eval\\quality_validator.py)"
    },
    "剪映工程导出": {
      "status": "FAILED",
      "details": "导出文件格式不正确",
      "error_info": ""
    },
    "输出文件完整性": {
      "status": "FAILED",
      "details": "",
      "error_info": "'FileValidator' object has no attribute 'calculate_hash'"
    }
  }
}